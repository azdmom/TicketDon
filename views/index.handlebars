<header>
    <nav class="navbar navbar-default">
        <div class="container">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
                    aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/" style="color:#7aacff">
                    <img id="logo" src="img/ticket.png">Ticket Don</a>
            </div>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/about" style="color:#7aacff">About</a>
                    </li>
                    <li>
                        <a onclick="document.getElementById('donor-login').style.display='block'" style="width:auto;color:#7aacff">
                            <span class="glyphicon glyphicon-log-in"></span>Donor Log In</a>
                    </li>
                    <li>
                        <a onclick="document.getElementById('rcpt-login').style.display='block'" style="width:auto;color:#7aacff">
                            <span class="glyphicon glyphicon-log-in"></span>Recipient Log In</a>
                    </li>
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container-fluid -->
        <div id="donor-login" class="module">
            <form class="module-content animate">
                <div class="imgcontainer">
                    <span onclick="document.getElementById('donor-login').style.display='none'" class="close" title="Close module">&times;</span>
                </div>
                <div class="container">
                    <div class="col-lg-10">
                        <label id="donorEmail" for="donorEmail">
                            <b>Email</b>
                        </label>
                        <input type="text" id="donorEmail" placeholder="Enter Email" name="donorEmail" required>
                        <label id="donorPw" for="psw">
                            <b>Password</b>
                        </label>
                        <input type="password" id="donorPw" placeholder="Enter Password" name="psw" required>
                        <div class="row">
                            <button id="donor-login" type="submit">Login</button>
                        </div>
                        <label>
                            <input type="checkbox" checked="checked" name="remember"> Remember me
                        </label>
                    </div>
                </div>
            </form>
        </div>
        <div id="rcpt-login" class="module">
            <form class="module-content animate">
                <div class="imgcontainer">
                    <span onclick="document.getElementById('rcpt-login').style.display='none'" class="close" title="Close module">&times;</span>
                </div>
                <div class="container">
                    <div class="col-lg-10">
                        <label id="rcptEmail" for="rcptEmail">
                            <b>Email</b>
                        </label>
                        <input type="text" id="rcptEmail" placeholder="Enter Username" name="rcptEmail" required>
                        <label id="rcptPw" for="psw">
                            <b>Password</b>
                        </label>
                        <input type="password" id="rcptPw" placeholder="Enter Password" name="psw" required>
                        <div class="row">
                            <button id="rcpt-login" type="submit">Login</button>
                        </div>
                        <label>
                            <input type="checkbox" checked="checked" name="remember"> Remember me
                        </label>
                    </div>
                </div>
            </form>
        </div>
    </nav>
</header>

<main>
    <!--Bootstrap container-->
    <div class="container">
        <div class="jumbotron">
            <center>
                <h1>Welcome to Ticket Donate!</h1>
            </center>
            <p>TicketDon allows elderly individuals who may not be able to afford tickets to various events by connecting with
                donors who have extra tickets and are willing to donate them to help the community.</p>
            <center>
                <div class="row">
                    <div class="col-md-4">
                    </div>
                    <div class="col-md-2">
                        <a class="btn btn-primary btn-lg" href="/donate" role="button">Donate Tix!</a>
                        <br>
                        <br>
                    </div>
                    <div class="col-md-2">
                        <a class="btn btn-primary btn-lg" href="/apply" role="button">Request Tix!</a>
                        <br>
                        <br>
                    </div>
                    <div class="col-md-4">
                    </div>
                </div>
            </center>
        </div>
        <div class="row">
            <div class="col-md-12">
                <center>
                    <h2>
                        <strong>Upcoming Events:</strong>
                        <br>
                        <br>
                    </h2>
                </center>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-6">
                                <img class="img-thumbnail" src="img/journey.jpg">
                            </div>
                            <div class="col-md-6">
                                <h3>
                                    <strong>Journey/Def Leppard</strong>
                                </h3>
                                <p>Mon 6/11 @ 7pm</p>
                                <p>Wells Fargo Center, Philadelphia, PA</p>
                                <a class="btn btn-info" href="https://www1.ticketmaster.com/event/Z7r9jZ1Ae1bo6?routing=y&tmrid=TMR-2298447&_ga=2.78832151.2065976383.1526843298-560635316.1526843298"
                                    target="_blank">More Info</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-default">
                    <div class="panel-body">
                        <div class="row">
                            <div class="col-md-6">
                                <img class="img-thumbnail" src="img/ccr.jpg">
                            </div>
                            <div class="col-md-6">
                                <h3>
                                    <strong>Creedence Clearwater Revisited</strong>
                                </h3>
                                <p>Fri 7/6 @ 9pm</p>
                                <p>Tropicana Showroom, Atlantic City, NJ</p>
                                <a class="btn btn-info" href="https://www1.ticketmaster.com/creedence-clearwater-revisited-atlantic-city-new-jersey-07-06-2018/event/02005468217FECF3?artistid=723998&majorcatid=10001&minorcatid=1&tm_link=artist_msg-0_02005468217FECF3"
                                    target="_blank">More Info</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
<footer class="navbar-fixed-bottom">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
            </div>
            <div class="col-md-6">
                <p class="footer-copyright">
                    <strong>&copy; Copyright 2018 Ticket Don</strong>
                </p>
            </div>
            <div class="col-md-3">
            </div>
        </div>
    </div>
</footer>

<script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>


<script>

$(document).ready(function () {    
    $("#donor-login").on("submit", function (event) {

        var $this = $(this);
        $this.find('.message:first').text('');

        event.preventDefault();
        if ($.trim($("#donorEmail").val()) === "" || $.trim($("#donorEmail").val()) === "jDoe@email.com" || $.trim($("#donorEmail").val()) === "Please enter a valid e-mail Address") {
            $("#donorEmail").val(" Please enter your e-mail Address");
            return false;
        }
        if ($.trim($("#donorPw").val()) === "" || $.trim($("#donorPw").val()) === "Password" || $.trim($("#donorPw").val()) === "Please enter a Password") {
            $("#donorPw").val(" Please enter a Password");
            return false;
        }
        var signin = {
            password: $("#donorPw").val().trim(),
            email: $("#donorEmail").val().trim(),
        }

        // Send the POST request.
        $.ajax("/api/donorSignin", {
            type: "POST",
            data: signin
        }).then(
            function (response) {
                window.location.href = response.redirectTo;
            },
            function (error) {
                $this.find('.message:first').text('Username and/or password incorrect');
            }
        );
    });
}

$(document).ready(function () {    
    $("#rcpt-login").on("submit", function (event) {

        var $this = $(this);
        $this.find('.message:first').text('');

        event.preventDefault();
        if ($.trim($("#rcptEmail").val()) === "" || $.trim($("#rcptEmail").val()) === "jDoe@email.com" || $.trim($("#rcptEmail").val()) === "Please enter a valid e-mail Address") {
            $("#rcpEmail").val(" Please enter your e-mail Address");
            return false;
        }
        if ($.trim($("#rcptPw").val()) === "" || $.trim($("#rcptPw").val()) === "Password" || $.trim($("#rcptPw").val()) === "Please enter a Password") {
            $("#rcptPw").val(" Please enter a Password");
            return false;
        }
        var signin = {
            password: $("#rcptPw").val().trim(),
            email: $("#rcptEmail").val().trim(),
        }

        // Send the POST request.
        $.ajax("/api/rcptSignin", {
            type: "POST",
            data: signin
        }).then(
            function (response) {
                window.location.href = response.redirectTo;
            },
            function (error) {
                $this.find('.message:first').text('Username and/or password incorrect');
            }
        );
    });
}
</script>